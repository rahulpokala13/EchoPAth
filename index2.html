<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Application Form</title>

    <link rel="stylesheet" href="/styles.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
<style>
    body {
font-family: 'Poppins',Arial, sans-serif;
background-color: #ffffff;
color: #333;
margin: 0;
padding: 0;
}
h2 {
text-align: center;
color: #004085;
padding: 20px 0;
}
h1 {
position: relative;
text-align: center;
color: #004085;
padding: 20px 0;
margin: 20px 0;
}

h1::before,
h1::after {
content: "";
position: absolute;
top: 50%;
width: 40%;
height: 0.5px;
background: #a79393; /* Change color as needed */
}

h1::before {
left: 0;
}

h1::after {
right: 0;
}

form {
background-color: #fff;
margin: 20px auto;
padding: 20px;
border-radius: 8px;
box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
max-width: 800px;
}

.form-section {
margin-bottom: 20px;
}

label {
display: block;
margin-bottom: 8px;
font-weight: bold;
color: #004085;
}

input[type="text"],
input[type="date"],
textarea {
width: calc(100% - 22px);
padding: 10px;
border: 1px solid #ddd;
border-radius: 4px;
box-sizing: border-box;
}

input[type="radio"],
input[type="checkbox"] {
margin-right: 10px;
}

.inline-options {
display: flex;
flex-wrap: wrap;
}

.inline-options label {
margin-right: 20px;
margin-bottom: 10px;
color: #495057;
font-weight: normal;
}

button.simplify-btn {
display: inline-block;
padding: 7px 7px;
margin-top: 0px;
margin-bottom: 10px;
background-color: #007bff;
color: #fff;
border: none;
border-radius: 4px;
cursor: pointer;
}

button.simplify-btn:hover {
background-color: #0056b3;
}

.simplified-text {
margin-top: 10px;
color: #495057;
font-style: italic;
}

button[type="submit"] {
display: block;
width: 100%;
padding: 10px;
background-color: #28a745;
color: #fff;
border: none;
border-radius: 4px;
cursor: pointer;
font-size: 16px;
font-weight: bold;
}

button[type="submit"]:hover {
background-color: #218838;
}

#simplifiedTextDisplay {
margin: 20px auto;
padding: 20px;
background-color: #fff;
border-radius: 8px;
box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
max-width: 600px;
}

#simplifiedTextDisplay h3 {
color: #004085;
margin-bottom: 20px;
}

#simplifiedList {
list-style-type: none;
padding: 0;
}

#simplifiedList li {
background-color: #e9ecef;
padding: 10px;
margin-bottom: 10px;
border-radius: 4px;
}

#voiceButton {
display: block;
margin: 20px auto;
padding: 10px;
background-color: #004085;
color: #fff;
border: none;
border-radius: 4px;
cursor: pointer;
font-size: 16px;
font-weight: bold;
}

#voiceButton:hover {
background-color: #348ef0;
}

#speechOutput {
text-align: center;
font-size: 16px;
color: #495057;
margin-top: 10px;
}
nav {
display: flex;
justify-content: space-between;
align-items: center;
background-color: #004085;
padding: 10px 20px;
color: #fff;
}

.nav-left {
display: flex;
align-items: center;
}

.logo {
height: 40px;
margin-right: 10px;
}

.site-name {
font-size: 24px;
font-weight: bold;
}

.nav-right {
display: flex;
align-items: center;
}

.google-translate {
padding: 5px;
display: inline-block;
background-color: #fff;
border-radius: 4px;
overflow: hidden;
}

.google-translate select {
padding: 0px;
border: none;
border-radius: 4px;
cursor: pointer;
font-size: 16px;
color: #004085;
}
#speak-button {
        background-color: transparent; /* Make background transparent */
        border: none; /* Remove default button border */
        padding: 0; /* Remove default padding */
        cursor: pointer; /* Change cursor to pointer on hover */
    }

    #speak-button::before {
        content: "ðŸ”Š"; /* Unicode character or an image URL can be used here */
        font-size: 24px; /* Adjust size as needed */
    }
</style>
</head>
<body>
    <!-- <script src="http://translate.google.com/translate_a/element.js?cb=loadGoogleTranslate"></script>
    
    <script>
        function loadGoogleTranslate(){
            new google.translate.TranslateElement({pageLanguage: 'en'}, 'myid');
        }
    </script> -->

<script>
    function loadGoogleTranslate(){
        new google.translate.TranslateElement({pageLanguage: 'en'}, 'myid');
    }
</script>
<script src="https://translate.google.com/translate_a/element.js?cb=loadGoogleTranslate"></script>
    <script>
        function loadGoogleTranslate() {
            new google.translate.TranslateElement({pageLanguage: 'en'}, 'myid');
        }
    </script>
<nav>
    <div class="nav-left">
        <img src="logo.png" alt="Logo" class="logo">
        <span class="site-name">Swavlamrancard</span>
    </div>
    <div class="nav-right">
        <div id="translate" class="google-translate">
            <!-- This div will be used by Google Translate -->
            <div id="myid"></div>
        </div>
    </div>
</nav>
    <h1>Registration Form </h1>

    <button id="open-chatbot">Chat</button>
    <div id="chat-container">
        <div id="chat-box">
            <div id="messages"></div>
        </div>
        <input type="text" id="user-input" placeholder="Type your message here...">
        <button id="send-button">Send</button>
    </div>
    <script src="scripts.js"></script>

    <div id="speechOutput"></div>
    <button id="voiceButton">Enable Voice Input</button>
    <form id="applicationForm">
        <!-- Personal Information Section -->
        <div class="form-section">
            <label id="firstNameLabel" for="firstName"> 
                <p id="text-to-speak">First Name:<button id="speak-button"></button>
                    <script src="scripts2.js"></script></p>
                </label>
            <input type="text" id="firstName" name="firstName" required>
            <!-- <button type="button" class="simplify-btn" onclick="simplifyText('firstNameLabel')">Simplify</button> -->
            <p class="simplified-text" id="firstNameSimplified"></p>
        </div>

        <div class="form-section">
            <label id="lastNameLabel" for="lastName">Last Name:</label>
            <input type="text" id="lastName" name="lastName" required>
            <!-- <button type="button" class="simplify-btn" onclick="simplifyText('lastNameLabel')">Simplify</button> -->
            <p class="simplified-text" id="lastNameSimplified"></p>
        </div>

        <div class="form-section">
            <label id="fatherNameLabel" for="fatherName">Father's Name:</label>
            <input type="text" id="fatherName" name="fatherName" required>
            <!-- <button type="button" class="simplify-btn" onclick="simplifyText('fatherNameLabel')">Simplify</button> -->
            <p class="simplified-text" id="fatherNameSimplified"></p>
        </div>

        <div class="form-section">
            <label id="motherNameLabel" for="motherName">Mother's Name:</label>
            <input type="text" id="motherName" name="motherName" required>
            <!-- <button type="button" class="simplify-btn" onclick="simplifyText('motherNameLabel')">Simplify</button> -->
            <p class="simplified-text" id="motherNameSimplified"></p>
        </div>

        <div class="form-section">
            <label id="genderLabel">Gender:</label><br>
            <div class="inline-options">
                <input type="radio" id="male" name="gender" value="male">
                <label for="male">Male</label>
                <input type="radio" id="female" name="gender" value="female">
                <label for="female">Female</label>
                <input type="radio" id="other" name="gender" value="other">
                <label for="other">Other</label>
                <!-- <button type="button" class="simplify-btn" onclick="simplifyText('genderLabel')">Simplify</button> -->
                <p class="simplified-text" id="genderSimplified"></p>
            </div>
        </div>

        <!-- Identification Details Section -->
        <div id="simplifiedTextDisplay" style="margin-top: 20px; padding: 20px; background-color: #fff; border-radius: 8px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);">
            <h3>Simplified Text:</h3>
            <ul id="simplifiedList" style="list-style-type: none; padding: 0;"></ul>
        </div>
        <div class="form-section">
            <label id="aadhaarNumberLabel" for="aadhaarNumber">Aadhar card </label> <button type="button" class="simplify-btn" onclick="simplifyText('aadhaarNumberLabel')">Simplify</button>
            <input type="text" id="aadhaarNumber" name="aadhaarNumber">
            
            <p class="simplified-text" id="aadhaarNumberSimplified"></p>
        </div>

        <div class="form-section">
            <label id="bplCardNumberLabel" for="bplCardNumber">BPL card:</label>
                
                <button type="button" class="simplify-btn" onclick="simplifyText('bplCardNumberLabel')">Simplify</button>
            <input type="text" id="bplCardNumber" name="bplCardNumber">
            
            <p class="simplified-text" id="bplCardNumberSimplified"></p>
        </div>

        <div class="form-section">
            <label id="pinCodeLabel" for="pinCode">PIN Code Number:</label>
            <button type="button" class="simplify-btn" onclick="simplifyText('pinCodeLabel')">Simplify</button>
            <input type="text" id="pinCode" name="pinCode">
            <p class="simplified-text" id="pinCodeSimplified"></p>
        </div>

        <div class="form-section">
            <label id="marksOfIdentificationLabel" for="marksOfIdentification">Marks of Identification:</label>
            
            <button type="button" class="simplify-btn" onclick="simplifyText('marksOfIdentificationLabel')">Simplify</button>
            <input type="text" id="marksOfIdentification" name="marksOfIdentification">
            <p class="simplified-text" id="marksOfIdentificationSimplified"></p>
        </div>

        <!-- Demographic Information Section -->
        <div class="form-section">
            <label id="casteLabel">Caste:</label><br>
            <div class="inline-options">
                <input type="checkbox" id="general" name="caste" value="general">
                <label for="general">General</label>
                <input type="checkbox" id="obc" name="caste" value="obc">
                <label for="obc">OBC</label>
                <input type="checkbox" id="sc" name="caste" value="sc">
                <label for="sc">SC</label>
                <input type="checkbox" id="st" name="caste" value="st">
                <label for="st">ST</label>
                <input type="checkbox" id="otherCaste" name="caste" value="other">
                <label for="otherCaste">Other (Please Specify):</label>
                <input type="text" id="otherCasteText" name="otherCasteText">
                <!-- <button type="button" class="simplify-btn" onclick="simplifyText('casteLabel')">Simplify</button> -->
                <p class="simplified-text" id="casteSimplified"></p>
            </div>
        </div>

        <div class="form-section">
            <label id="functionalLimitationsLabel" for="functionalLimitations">Functional Limitations:</label>
            
            <button type="button" class="simplify-btn" onclick="simplifyText('functionalLimitationsLabel')">Simplify</button>
            <input type="text" id="functionalLimitations" name="functionalLimitations">
            <p class="simplified-text" id="functionalLimitationsSimplified"></p>
        </div>

        <!-- Employment Information Section -->
        <div class="form-section">
            <label id="employmentStatusLabel">Employment Status:</label>
            
            <button type="button" class="simplify-btn" onclick="simplifyText('employmentStatusLabel')">Simplify</button>
            <div class="inline-options">
                <input type="radio" id="employed" name="employmentStatus" value="employed">
                <label for="employed">Employed</label>
                <input type="radio" id="selfEmployed" name="employmentStatus" value="selfEmployed">
                <label for="selfEmployed">Self-Employed</label>
                <input type="radio" id="unemployed" name="employmentStatus" value="unemployed">
                <label for="unemployed">Unemployed</label>
                <input type="radio" id="retired" name="employmentStatus" value="retired">
                <label for="retired">Retired</label>
                <p class="simplified-text" id="employmentStatusSimplified"></p>
            </div>
        </div>

        <!-- Certification Details Section -->
        <div class="form-section">
            <label id="maritalstatuslabel" for="marital">Marital status:</label>
            <button type="button" class="simplify-btn" onclick="simplifyText('maritalstatuslabel')">Simplify</button>
            <div class="inline-options">
                <input type="radio" id="maritalYes" name="maritalCertificate" value="yes">
                <label for="maritalYes">Yes</label>
                <input type="radio" id="maritalNo" name="maritalCertificate" value="no">
                <label for="maritalNo">No</label>
                <p class="simplified-text" id="maritalCertificateSimplified"></p>
            </div>
        </div>

        
        <div class="form-section">
            <label id="adjustedgrossincome" for="income">Adjusted Gross Income:</label>
            
            <button type="button" class="simplify-btn" onclick="simplifyText('adjustedgrossincome')">Simplify</button>
            <input type="text" id="income" name="income" required>
            <p class="simplified-text" id="incomeSimplified"></p>
        </div>

        <div class="form-section">
            <button type="submit">Submit</button>
        </div>
    </form>
    
    
    <script>
        // Existing simplifyText function goes here
        async function simplifyText(labelId) {
            // Your existing code for simplifying text
        }

        // Voice input integration with graceful handling
        const form = document.getElementById('applicationForm');
        const speechOutput = document.getElementById('speechOutput');
        const voiceButton = document.getElementById('voiceButton');

        form.addEventListener('submit', function(event) {
            event.preventDefault();
            // Handle form submission here
        });

        let recognition;

        // Check for SpeechRecognition support
        if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            recognition = new SpeechRecognition();

            recognition.lang = 'en-US';

            recognition.onresult = function(event) {
                const transcript = event.results[0][0].transcript;
                const currentInput = document.activeElement;

                if (currentInput.tagName === 'INPUT' || currentInput.tagName === 'TEXTAREA') {
                    currentInput.value = transcript;
                } else {
                    speechOutput.textContent = `Speech Input: ${transcript}`;
                }
                console.log('Speech Input:', transcript);
            };

            recognition.onerror = function(event) {
                speechOutput.textContent = 'Error recognizing speech.';
                console.error('Speech Recognition Error:', event.error);
            };

            // Toggle speech recognition on voice button click
            let listening = false;

            voiceButton.addEventListener('click', function() {
                if (!listening) {
                    recognition.start();
                    voiceButton.classList.add('listening');
                    speechOutput.textContent = 'Listening...';
                } else {
                    recognition.stop();
                    voiceButton.classList.remove('listening');
                    speechOutput.textContent = 'Click on the input field and speak.';
                }

                listening = !listening;
            });

        } else {
            // Handle lack of support gracefully
            voiceButton.disabled = true;
            voiceButton.textContent = 'Speech Recognition Not Supported';
            console.error('Speech Recognition Not Supported');
        }
    </script>
    <script>
        async function simplifyText(labelId) {
    setTimeout(function() {
        let generatedText = '';

        switch(labelId) {
            case 'aadhaarNumberLabel':
                generatedText = 'Aadhaar is a 12-digit unique identification number issued by the Indian government to residents based on biometric and demographic data. It serves as a universal identity document and is used for various government and private sector services in India.';
                break;
            case 'bplCardNumberLabel':
                generatedText = 'A BPL (Below Poverty Line) card number is a unique identification issued by governments to eligible households or individuals, entitling them to subsidized food grains and other welfare benefits. It helps in targeting and delivering social welfare schemes effectively.';
                break;
            case 'pinCodeLabel':
                generatedText = 'A numerical code assigned to specific geographic areas by postal authorities for efficient mail delivery and sorting in India. It helps identify the precise location of a destination for postal services.';
                break;
            case 'marksOfIdentificationLabel':
                generatedText = 'Distinctive features or characteristics used to identify individuals, often used in official documents or records for verification purposes, such as fingerprints, facial features, or unique physical traits.';
                break;
            case 'functionalLimitationsLabel':
                generatedText = 'Restrictions or impairments that affect a person\'s ability to perform everyday activities or tasks, often due to physical, cognitive, or sensory challenges.';
                break;
            case 'employmentStatusLabel':
                generatedText = 'Employment status tells if someone has a job, is looking for one, or is currently without work.';
                break;
            case 'adjustedgrossincome':
                generatedText = 'Taxpayer\'s total income minus specific deductions, such as contributions to retirement accounts or student loan interest. It\'s used to calculate taxable income and determine eligibility for certain tax benefits.';
                break;
            case 'maritalstatuslabel':
                generatedText='Marital status indicates whether someone is single, married, divorced, separated, or widowed, used for legal and administrative purposes.'
                break;
            default:
                generatedText = '';
                break;
        }

        const simplifiedList = document.getElementById('simplifiedList');
        const listItem = document.createElement('li');
        listItem.textContent = generatedText;
        simplifiedList.appendChild(listItem);

        console.log('Delayed execution after 2 seconds');

        // Scroll to the simplifiedTextDisplay element after content is added
        const simplifiedTextDisplay = document.getElementById('simplifiedTextDisplay');
        simplifiedTextDisplay.scrollIntoView({ behavior: 'smooth' });
    }, 2000);
}

    </script>
    <script>
        
        async function simplifyyText(labelId) {
            const labelElement = document.getElementById(labelId);
            if (!labelElement) {
                console.error(`Element with ID ${labelId} not found.`);
                return;
            }

            const labelText = labelElement.textContent.trim();

            if (!labelText) {
                console.error('Label text is empty.');
                return;
            }

            try {
                const response = await fetch('https://api-inference.huggingface.co/models/HuggingFaceH4/zephyr-7b-beta', {
                    method: 'POST',
                    headers: {
                        'Authorization': 'Bearer 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',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        inputs: labelText,
                        options: {
                            max_new_tokens: 500
                        }
                    })
                });

                if (!response.ok) {
                    throw new Error('Failed to simplify text.');
                }

                const result = await response.json();
                const generatedText = result[0].generated_text.split('.')[0] + '.';
                
                // Update simplified text in a list item
                const simplifiedList = document.getElementById('simplifiedList');
                const listItem = document.createElement('li');
                listItem.textContent = `${labelId}: ${generatedText}`;
                simplifiedList.appendChild(listItem);
            } catch (error) {
                console.error('Error simplifying text:', error);
                // alert('Failed to simplify text. Please try again later.');
            }
        }
    </script>
</body>
</html>